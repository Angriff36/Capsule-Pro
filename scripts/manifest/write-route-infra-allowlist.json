{
  "description": "Infrastructure write routes allowed outside Manifest domain command surface.",
  "rules": [
    {
      "prefix": "/api/webhooks/",
      "methods": ["POST", "PUT", "PATCH", "DELETE"]
    },
    {
      "prefix": "/api/auth/",
      "methods": ["POST", "PUT", "PATCH", "DELETE"]
    },
    {
      "prefix": "/api/cron/",
      "methods": ["POST", "PUT", "PATCH", "DELETE"]
    },
    {
      "prefix": "/api/health",
      "methods": ["POST", "PUT", "PATCH", "DELETE"]
    },
    {
      "prefix": "/api/kitchen/recipes/composite/",
      "methods": ["POST"],
      "comment": "Composite routes wrap multiple Manifest commands in atomic transactions"
    },
    {
      "pattern": "^/api/kitchen/recipes/[^/]+/composite/",
      "methods": ["POST"],
      "comment": "Recipe-scoped composite routes (update-with-version, restore-version)"
    },
    {
      "prefix": "/api/kitchen/manifest/",
      "methods": ["POST", "PUT", "PATCH", "DELETE"],
      "comment": "Legacy infrastructure routes using Manifest runtime (to be migrated)"
    },
    {
      "prefix": "/api/conflicts/",
      "methods": ["POST", "PUT", "PATCH", "DELETE"],
      "comment": "Conflict detection infrastructure"
    }
  ]
}
